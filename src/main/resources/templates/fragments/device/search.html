<!DOCTYPE HTML>
<html 
	xmlns:th="http://www.w3.org/1999/xhtml"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="fragments/layout/layout" 
	>
<head>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="../../../assets/css/ax5grid.css" />
	
	<script type="text/javascript" src="../../../assets/js/jquery-1.12.4.min.js"></script>
	<script type="text/javascript" src="../../../assets/js/ax5core.min.js"></script>
	<script type="text/javascript" src="../../../assets/js/ax5grid.min.js"></script>
	<script type="text/javascript">
	var deviceInfoGrid = new ax5.ui.grid();
	var gunInfoGrid = new ax5.ui.grid();
	var batteryInfoGrid = new ax5.ui.grid();
	$(document).ready(function(){
		deviceInfoGrid.setConfig({ /* 단말기 목록  */
		    target: $('[data-ax5grid="deviceGrid"]'),
/* 		    frozenColumnIndex: 2, */
		    /* frozenRowIndex: 0, */
		    showLineNumber: true,
		    /* showRowSelector: true, */
		     multipleSelect: false,
		    lineNumberColumnWidth: 40,
		    /* rowSelectorColumnWidth: 28, */
		    sortable: true, 
		    multiSort: false,
		    header: {
		        align: "center",
		        columnHeight: 40
		    },
		    body: {
		        align: "center",
		        columnHeight: 28,
		        onClick: function () {
		            // console.log(this);
		            if ( this.colIndex ===  0 ) { 
		            	location.href = "/device/register/" + this.item.id
		            }
			            
		        }
		    },
		    columns: [
		        {key: "id", label: "일련번호 (S/N)", width: 300,  align: "center" },
		        {key: "model", label: "MODEL", width: 150, align: "center"},
		        {key: "wifiMac", label: "WIFI MAC 주소", width: 300, align: "center"},
		        {key: "version", label: "Android OS" , width: 300, align: "center"},
		        {key: "updated", label: "수정일자" , width: 200, align: "center" },
		        {key: "created", label: "등록일자" , width: 200, align: "center" }
		    ]
		});
		
		gunInfoGrid.setConfig({ /* 단말기 목록  */
		    target: $('[data-ax5grid="gunGrid"]'),
/* 		    frozenColumnIndex: 2, */
		    /* frozenRowIndex: 0, */
		    showLineNumber: true,
		    /* showRowSelector: true, */
		     multipleSelect: false,
		    lineNumberColumnWidth: 40,
		    /* rowSelectorColumnWidth: 28, */
		    sortable: true, 
		    multiSort: false,
		    header: {
		        align: "center",
		        columnHeight: 40
		    },
		    body: {
		        align: "center",
		        columnHeight: 28,
		        onClick: function () {
		            // console.log(this);
		            if ( this.colIndex ===  0 ) { 
		            	location.href = "/device/register/" + this.item.id
		            }
			            
		        }
		    },
		    columns: [
		        {key: "id", label: "일련번호 (S/N)", width: 300,  align: "center" },
		        {key: "model", label: "MODEL", width: 150, align: "center"},
		        {key: "updated", label: "수정일자" , width: 200, align: "center" },
		        {key: "created", label: "등록일자" , width: 200, align: "center" }
		    ]
		});
		
		batteryInfoGrid.setConfig({ /* 단말기 목록  */
		    target: $('[data-ax5grid="batteryGrid"]'),
/* 		    frozenColumnIndex: 2, */
		    /* frozenRowIndex: 0, */
		    showLineNumber: true,
		    /* showRowSelector: true, */
		     multipleSelect: false,
		    lineNumberColumnWidth: 40,
		    /* rowSelectorColumnWidth: 28, */
		    sortable: true, 
		    multiSort: false,
		    header: {
		        align: "center",
		        columnHeight: 40
		    },
		    body: {
		        align: "center",
		        columnHeight: 28,
		        onClick: function () {
		            // console.log(this);
		            if ( this.colIndex ===  0 ) { 
		            	location.href = "/device/register/" + this.item.id
		            }
			            
		        }
		    },
		    columns: [
		        {key: "id", label: "일련번호 (S/N)", width: 300,  align: "center" },
		        {key: "model", label: "MODEL", width: 150, align: "center"},
		        {key: "updated", label: "수정일자" , width: 200, align: "center" },
		        {key: "created", label: "등록일자" , width: 200, align: "center" }
		    ]
		});
		
		
		$.ajax({
		    dataType: 'json',
		    url: '/device/items',
		    success: function(data, textStatus, jqXHR) {
		    	// 단말기 목록 조회
				deviceInfoGrid.setData(data.deviceInfo); 
				gunInfoGrid.setData(data.gunsInfo); 
				batteryInfoGrid.setData(data.batteriesInfo); 
		    },
		    error: function(jqXHR, textStatus, errorThrown) {
		        console.log(textStatus + ': ' + errorThrown);
		    }
		});
	});
	</script>
</head>
<body>
<div layout:fragment="contents">
    <div class="right_col" role="main">
   	   <div class="">
            <div class="page-title">
              <div class="title_left">
                <h3>전체 부품 조회</h3>
              </div>

              <!-- <div class="title_right">
                <div class="col-md-5 col-sm-5 form-group pull-right top_search">
                  <div class="input-group">
                    <input type="text" class="form-control" placeholder="Search for...">
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="button">Go!</button>
                    </span>
                  </div>
                </div>
              </div> -->
            </div>
            <div class="clearfix"></div>
			<!-- 단말기 정보 목록 -->
            <div class="row">
              <div class="col-md-12 col-sm-12">
                <div class="x_panel">
                  <div class="x_title">
                    <h2>단말기 목록</h2>
                    <ul class="nav navbar-right panel_toolbox">
                      <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                      </li>
                      <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="#">Settings 1</a>
                            <a class="dropdown-item" href="#">Settings 2</a>
                          </div>
                      </li>
                      <li><a class="close-link"><i class="fa fa-close"></i></a>
                      </li>
                    </ul>
                    <div class="clearfix"></div>
                  </div>
                  <div class="x_content">
                    <form class="form-horizontal form-label-left" novalidate>
                    	<div style="position: relative;height:500px;" id="grid-parent">
                   		<div data-ax5grid="deviceGrid" data-ax5grid-config='{name:"my first grid"}' style="height: 100%;"></div>
                   		</div>
                      <div class="ln_solid"></div> <!-- 아래 선 -->
                    </form>
                  </div>
                </div>
              </div>
            </div>
            
           <!-- 건트리거 목록 -->
            <div class="row">
              <div class="col-md-12 col-sm-12">
                <div class="x_panel">
                  <div class="x_title">
                    <h2>건트리거 목록</h2>
                    <ul class="nav navbar-right panel_toolbox">
                      <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                      </li>
                      <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="#">Settings 1</a>
                            <a class="dropdown-item" href="#">Settings 2</a>
                          </div>
                      </li>
                      <li><a class="close-link"><i class="fa fa-close"></i></a>
                      </li>
                    </ul>
                    <div class="clearfix"></div>
                  </div>
                  <div class="x_content">
                    <form class="form-horizontal form-label-left" novalidate>
                    	<div style="position: relative;height:500px;" id="grid-parent">
                   		<div data-ax5grid="gunGrid" data-ax5grid-config='{name:"my first grid"}' style="height: 100%;"></div>
                   		</div>
                      <div class="ln_solid"></div> <!-- 아래 선 -->
                    </form>
                  </div>
                </div>
              </div>
            </div>
            
            
            <!-- 배터리 충전 거치대 목록 -->
            <div class="row">
              <div class="col-md-12 col-sm-12">
                <div class="x_panel">
                  <div class="x_title">
                    <h2>배터리 충전 거치대 목록</h2>
                    <ul class="nav navbar-right panel_toolbox">
                      <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                      </li>
                      <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="#">Settings 1</a>
                            <a class="dropdown-item" href="#">Settings 2</a>
                          </div>
                      </li>
                      <li><a class="close-link"><i class="fa fa-close"></i></a>
                      </li>
                    </ul>
                    <div class="clearfix"></div>
                  </div>
                  <div class="x_content">
                    <form class="form-horizontal form-label-left" novalidate>
                    	<div style="position: relative;height:500px;" id="grid-parent">
                   		<div data-ax5grid="batteryGrid" data-ax5grid-config='{name:"my first grid"}' style="height: 100%;"></div>
                   		</div>
                      <div class="ln_solid"></div> <!-- 아래 선 -->
                    </form>
                  </div>
                </div>
              </div>
            </div>
            
            
         </div>
      </div> <!-- End right_col -->
    </div> <!-- End Fragment -->
</body>
</html>